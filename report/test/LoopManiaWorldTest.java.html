<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>LoopManiaWorldTest.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCo Coverage Report</a> &gt; <a href="index.source.html" class="el_package">test</a> &gt; <span class="el_source">LoopManiaWorldTest.java</span></div><h1>LoopManiaWorldTest.java</h1><pre class="source lang-java linenums">package test;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertFalse;
import static org.junit.jupiter.api.Assertions.assertTrue;

import java.util.ArrayList;
import java.util.List;


import org.javatuples.Pair;
import org.json.JSONArray;
import org.json.JSONObject;
import org.junit.Test;

import unsw.loopmania.Anduril;
import unsw.loopmania.Armour;
import unsw.loopmania.BarrackBuilding;
import unsw.loopmania.BarrackCard;
import unsw.loopmania.BasicEnemy;
import unsw.loopmania.Building;
import unsw.loopmania.CARDS_TYPE;
import unsw.loopmania.Card;
import unsw.loopmania.Character;
import unsw.loopmania.Goal;
import unsw.loopmania.LoopManiaWorld;
import unsw.loopmania.PathPosition;
import unsw.loopmania.Slug;
import unsw.loopmania.Vampire;
import unsw.loopmania.Doggie;
import unsw.loopmania.ElanMuske;
import unsw.loopmania.Helmet;
import unsw.loopmania.ITEMS_TYPE;
import unsw.loopmania.Item;
import unsw.loopmania.LoopManiaWorld;
import unsw.loopmania.PathPosition;
import unsw.loopmania.Shield;
import unsw.loopmania.Slug;
import unsw.loopmania.Staff;
import unsw.loopmania.Stake;
import unsw.loopmania.Sword;
import unsw.loopmania.TheOneRing;
import unsw.loopmania.TreeStump;
import unsw.loopmania.VampireCastleBuilding;
import unsw.loopmania.VampireCastleCard;
import unsw.loopmania.VillageBuilding;
import unsw.loopmania.Zombie;

<span class="fc" id="L49">public class LoopManiaWorldTest {</span>
    @Test
    public void loadCardTest(){
<span class="fc" id="L52">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L53">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L54">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L55">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L56">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L57">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L58">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L59">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L60">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L61">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L62">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L63">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L64">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L65">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
        
<span class="fc" id="L67">        Card card = world.loadCard(CARDS_TYPE.BARRACK);</span>
<span class="fc" id="L68">        assertEquals(card instanceof BarrackCard, true);</span>

<span class="fc" id="L70">        card = world.loadCard(CARDS_TYPE.VAMPIRECASTLE);</span>
<span class="fc" id="L71">        assertEquals(card instanceof VampireCastleCard, true);</span>
<span class="fc" id="L72">    }</span>

    @Test
    public void convertCardToBuildingByCoordinates(){
<span class="fc" id="L76">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L77">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L78">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L79">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L80">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L81">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L82">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L83">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L84">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L85">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L86">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L87">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L88">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L89">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
        
<span class="fc" id="L91">        world.loadCard(CARDS_TYPE.BARRACK);</span>
<span class="fc" id="L92">        world.loadCard(CARDS_TYPE.VAMPIRECASTLE);</span>
<span class="fc" id="L93">        world.loadCard(CARDS_TYPE.VILLAGE);</span>

<span class="fc" id="L95">        Building building = world.convertCardToBuildingByCoordinates(0,0,0,2);</span>
<span class="fc" id="L96">        assertEquals(building instanceof BarrackBuilding, true);</span>

<span class="fc" id="L98">        building = world.convertCardToBuildingByCoordinates(0,0,1,1);</span>
<span class="fc" id="L99">        assertEquals(building instanceof VampireCastleBuilding, true);</span>

<span class="fc" id="L101">        building = world.convertCardToBuildingByCoordinates(0,0,1,3);</span>
<span class="fc" id="L102">        assertEquals(building instanceof VillageBuilding, true);</span>
<span class="fc" id="L103">    }</span>

    @Test
    public void buildingFunctionTest(){
<span class="fc" id="L107">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L108">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L109">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L110">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L111">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L112">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L113">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L114">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L115">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L116">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L117">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L118">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L119">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L120">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
<span class="fc" id="L121">        world.loadCard(CARDS_TYPE.TRAP);</span>
<span class="fc" id="L122">        world.loadCard(CARDS_TYPE.TOWER);</span>
<span class="fc" id="L123">        world.loadCard(CARDS_TYPE.VILLAGE);</span>

<span class="fc" id="L125">        world.convertCardToBuildingByCoordinates(0,0,2,0);</span>
<span class="fc" id="L126">        world.convertCardToBuildingByCoordinates(0,0,2,1);</span>
<span class="fc" id="L127">        world.convertCardToBuildingByCoordinates(0,0,1,3);</span>
        
<span class="fc" id="L129">        world.spawnAZombie(2,1,null);</span>

<span class="fc" id="L131">        int currentPositionInPath = 8;</span>
<span class="fc" id="L132">        PathPosition pathPosition = new PathPosition(currentPositionInPath, orderedPath);</span>
<span class="fc" id="L133">        Character character = new Character(pathPosition);</span>
<span class="fc" id="L134">        character.setHealth(40);</span>
<span class="fc" id="L135">        world.setCharacter(character);</span>
<span class="fc" id="L136">        List&lt;BasicEnemy&gt; deadEnemies = world.buildingFunction();</span>
<span class="fc" id="L137">        assertEquals(character.getHealth(), 60);</span>
<span class="fc" id="L138">        assertEquals(deadEnemies.size(), 1);</span>
<span class="fc" id="L139">    }</span>

    @Test
    public void checkAdjacentPathTest(){
<span class="fc" id="L143">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L144">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L145">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L146">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L147">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L148">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L149">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L150">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L151">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L152">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L153">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L154">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L155">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L156">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>

<span class="fc" id="L158">        assertEquals(world.checkAdjacentPath(1, 2), true);</span>
<span class="fc" id="L159">        assertEquals(world.checkAdjacentPath(2, 2), true);</span>
<span class="fc" id="L160">        assertEquals(world.checkAdjacentPath(0, 1), false);</span>
<span class="fc" id="L161">        assertEquals(world.checkAdjacentPath(1, 2), true);</span>
<span class="fc" id="L162">    }</span>

    @Test
    public void spawnEnemiesByBuilding(){
<span class="fc" id="L166">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L167">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L168">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L169">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L170">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L171">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L172">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L173">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L174">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L175">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L176">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L177">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L178">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L179">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>

<span class="fc" id="L181">        world.loadCard(CARDS_TYPE.ZOMBIEPIT);</span>
<span class="fc" id="L182">        world.loadCard(CARDS_TYPE.VAMPIRECASTLE);</span>

<span class="fc" id="L184">        world.convertCardToBuildingByCoordinates(0,0,1,2);</span>
<span class="fc" id="L185">        world.convertCardToBuildingByCoordinates(0,0,2,2);</span>

<span class="fc" id="L187">        List&lt;BasicEnemy&gt; retLis = world.spawnEnemiesByBuilding();</span>
<span class="fc" id="L188">        assertEquals(retLis.size(), 2);</span>
<span class="fc" id="L189">        retLis = world.spawnEnemiesByBuilding();</span>
<span class="fc" id="L190">        assertEquals(retLis.size(), 1);</span>
<span class="fc" id="L191">        retLis = world.spawnEnemiesByBuilding();</span>
<span class="fc" id="L192">        assertEquals(retLis.size(), 1);</span>
<span class="fc" id="L193">        retLis = world.spawnEnemiesByBuilding();</span>
<span class="fc" id="L194">        assertEquals(retLis.size(), 1);</span>
<span class="fc" id="L195">        retLis = world.spawnEnemiesByBuilding();</span>
<span class="fc" id="L196">        assertEquals(retLis.size(), 1);</span>
<span class="fc" id="L197">        retLis = world.spawnEnemiesByBuilding();</span>
<span class="fc" id="L198">        assertEquals(retLis.size(), 2);</span>
<span class="fc" id="L199">    }</span>

    @Test
    public void checkInPathTest(){
<span class="fc" id="L203">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L204">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L205">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L206">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L207">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L208">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L209">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L210">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L211">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L212">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L213">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L214">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L215">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L216">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>

<span class="fc" id="L218">        assertEquals(world.checkInPath(1, 2), false);</span>
<span class="fc" id="L219">        assertEquals(world.checkInPath(2, 2), false);</span>
<span class="fc" id="L220">        assertEquals(world.checkInPath(2, 3), true);</span>
<span class="fc" id="L221">        assertEquals(world.checkInPath(0, 2), true);</span>
<span class="fc" id="L222">    }</span>

    @Test
    public void removeCardTest(){
<span class="fc" id="L226">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L227">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L228">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L229">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L230">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L231">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L232">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L233">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L234">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L235">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L236">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L237">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L238">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L239">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
        
<span class="fc" id="L241">        Card card1 = world.loadCard(CARDS_TYPE.TRAP);</span>
<span class="fc" id="L242">        Card card2 = world.loadCard(CARDS_TYPE.TOWER);</span>
<span class="fc" id="L243">        world.loadCard(CARDS_TYPE.VILLAGE);</span>

<span class="fc" id="L245">        world.removeCard(2);</span>
<span class="fc" id="L246">        assertEquals(world.getLastCardEntity(), card2);</span>

<span class="fc" id="L248">        world.removeCard(1);</span>
<span class="fc" id="L249">        assertEquals(world.getLastCardEntity(), card1);</span>

<span class="fc" id="L251">        world.removeCard(0);</span>
<span class="fc" id="L252">        assertEquals(world.getLastCardEntity(), null);</span>
<span class="fc" id="L253">    }</span>

    @Test
    public void getLastCardEntityTest(){
<span class="fc" id="L257">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L258">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L259">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L260">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L261">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L262">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L263">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L264">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L265">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L266">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L267">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L268">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L269">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L270">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
        
<span class="fc" id="L272">        Card card = world.loadCard(CARDS_TYPE.TRAP);</span>
<span class="fc" id="L273">        assertEquals(world.getLastCardEntity(), card);</span>
<span class="fc" id="L274">        card = world.loadCard(CARDS_TYPE.TOWER);</span>
<span class="fc" id="L275">        assertEquals(world.getLastCardEntity(), card);</span>
<span class="fc" id="L276">        card = world.loadCard(CARDS_TYPE.VILLAGE);</span>
<span class="fc" id="L277">        assertEquals(world.getLastCardEntity(), card);</span>
<span class="fc" id="L278">    }</span>

    @Test
    public void addUnequippedItem(){
<span class="fc" id="L282">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L283">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L284">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L285">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L286">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L287">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L288">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L289">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L290">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L291">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L292">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L293">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L294">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L295">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
        
<span class="fc" id="L297">        Item item = world.addUnequippedItem(ITEMS_TYPE.SWORD);</span>
<span class="fc" id="L298">        assertEquals(item instanceof Sword, true);</span>

<span class="fc" id="L300">        Item item2 = world.addUnequippedItem(ITEMS_TYPE.STAFF);</span>
<span class="fc" id="L301">        assertEquals(item2 instanceof Staff, true);</span>

<span class="fc" id="L303">        Item item3 = world.addUnequippedItem(ITEMS_TYPE.STAKE);</span>
<span class="fc" id="L304">        assertEquals(item3 instanceof Stake, true);</span>

<span class="fc" id="L306">        Item item4 = world.addUnequippedItem(ITEMS_TYPE.SHIELD);</span>
<span class="fc" id="L307">        assertEquals(item4 instanceof Shield, true);</span>

<span class="fc" id="L309">        Item item5 = world.addUnequippedItem(ITEMS_TYPE.ARMOUR);</span>
<span class="fc" id="L310">        assertEquals(item5 instanceof Armour, true);</span>

<span class="fc" id="L312">        Item item6 = world.addUnequippedItem(ITEMS_TYPE.HELMET);</span>
<span class="fc" id="L313">        assertEquals(item6 instanceof Helmet, true);</span>

<span class="fc" id="L315">        Item item7 = world.addUnequippedItem(ITEMS_TYPE.ANDURIL);</span>
<span class="fc" id="L316">        assertEquals(item7 instanceof Anduril, true);</span>

<span class="fc" id="L318">        Item item8 = world.addUnequippedItem(ITEMS_TYPE.TREESTUMP);</span>
<span class="fc" id="L319">        assertEquals(item8 instanceof TreeStump, true);</span>

<span class="fc" id="L321">        Item item9 = world.addUnequippedItem(ITEMS_TYPE.THEONERING);</span>
<span class="fc" id="L322">        assertEquals(item9 instanceof TheOneRing, true);</span>
<span class="fc" id="L323">    }</span>

    @Test
    public void GRUnequippedInventoryItemByCoordinatesTest(){
<span class="fc" id="L327">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L328">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L329">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L330">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L331">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L332">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L333">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L334">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L335">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L336">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L337">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L338">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L339">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L340">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
        
<span class="fc" id="L342">        world.addUnequippedItem(ITEMS_TYPE.SWORD);</span>
<span class="fc" id="L343">        assertEquals(world.getUnequippedInventoryItems().size(), 1);</span>
<span class="fc" id="L344">        world.removeUnequippedInventoryItemByCoordinates(0, 0);</span>
<span class="fc" id="L345">        assertEquals(world.getUnequippedInventoryItems().size(), 0);</span>
<span class="fc" id="L346">    }</span>

    @Test
    public void GetEquippedFromUnequippedByCoordinatesTest(){
<span class="fc" id="L350">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L351">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L352">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L353">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L354">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L355">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L356">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L357">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L358">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L359">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L360">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L361">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L362">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L363">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
        
<span class="fc" id="L365">        Item item = world.addUnequippedItem(ITEMS_TYPE.SWORD);</span>
<span class="fc" id="L366">        world.addEquippedInventoryItems(item);</span>
<span class="fc" id="L367">        assertEquals(world.getEquippedInventoryItems().get(0), item);</span>
<span class="fc" id="L368">        assertEquals(world.getEquippedInventoryItems().size(), 1);</span>
<span class="fc" id="L369">        assertEquals(item instanceof Sword, true);</span>
<span class="fc" id="L370">    }</span>

    @Test
    public void setCharacterEquipmentTest(){
<span class="fc" id="L374">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L375">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L376">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L377">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L378">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L379">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L380">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L381">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L382">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L383">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L384">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L385">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L386">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L387">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
<span class="fc" id="L388">        PathPosition pathPosition = new PathPosition(0, orderedPath);</span>
<span class="fc" id="L389">        Character character = new Character(pathPosition);</span>
<span class="fc" id="L390">        world.setCharacter(character);</span>
<span class="fc" id="L391">        assertEquals(world.getCharacter(), character);</span>

<span class="fc" id="L393">        world.addUnequippedItem(ITEMS_TYPE.SWORD);</span>
<span class="fc" id="L394">        Item item = world.GetEquippedFromUnequippedByCoordinates(0, 0, 1, 0);</span>
<span class="fc" id="L395">        assertEquals(world.getUnequippedInventoryItems().size(), 0);</span>
<span class="fc" id="L396">        assertEquals(character.getAggressivity(), 4);</span>
<span class="fc" id="L397">        world.setCharacterEquipment(character, item);</span>
<span class="fc" id="L398">        assertEquals(character.getAggressivity(), 10);</span>

<span class="fc" id="L400">        world.addUnequippedItem(ITEMS_TYPE.STAKE);</span>
<span class="fc" id="L401">        Item item2 = world.GetEquippedFromUnequippedByCoordinates(0, 0, 1, 0);</span>
<span class="fc" id="L402">        assertEquals(world.getUnequippedInventoryItems().size(), 0);</span>
<span class="fc" id="L403">        assertEquals(character.getAggressivity(), 10);</span>
<span class="fc" id="L404">        world.setCharacterEquipment(character, item2);</span>
<span class="fc" id="L405">        assertEquals(character.getAggressivity(), 8);</span>

<span class="fc" id="L407">        world.addUnequippedItem(ITEMS_TYPE.STAFF);</span>
<span class="fc" id="L408">        Item item4 = world.GetEquippedFromUnequippedByCoordinates(0, 0, 1, 0);</span>
<span class="fc" id="L409">        assertEquals(world.getUnequippedInventoryItems().size(), 0);</span>
<span class="fc" id="L410">        assertEquals(character.getAggressivity(), 8);</span>
<span class="fc" id="L411">        world.setCharacterEquipment(character, item4);</span>
<span class="fc" id="L412">        assertEquals(character.getAggressivity(), 6);</span>

<span class="fc" id="L414">        world.addUnequippedItem(ITEMS_TYPE.ANDURIL);</span>
<span class="fc" id="L415">        Item item8 = world.GetEquippedFromUnequippedByCoordinates(0, 0, 1, 0);</span>
<span class="fc" id="L416">        assertEquals(world.getUnequippedInventoryItems().size(), 0);</span>
<span class="fc" id="L417">        assertEquals(character.getAggressivity(), 6);</span>
<span class="fc" id="L418">        world.setCharacterEquipment(character, item8);</span>
<span class="fc" id="L419">        assertEquals(character.getAggressivity(), 13);</span>

<span class="fc" id="L421">        world.addUnequippedItem(ITEMS_TYPE.ARMOUR);</span>
<span class="fc" id="L422">        Item item3 = world.GetEquippedFromUnequippedByCoordinates(0, 0, 0, 1);</span>
<span class="fc" id="L423">        assertEquals(world.getUnequippedInventoryItems().size(), 0);</span>
<span class="fc" id="L424">        assertEquals(character.getDefense(), 0);</span>
<span class="fc" id="L425">        world.setCharacterEquipment(character, item3);</span>
<span class="fc" id="L426">        assertEquals(character.getDefense(), 3);</span>

<span class="fc" id="L428">        world.addUnequippedItem(ITEMS_TYPE.HELMET);</span>
<span class="fc" id="L429">        Item item5 = world.GetEquippedFromUnequippedByCoordinates(0, 0, 0, 1);</span>
<span class="fc" id="L430">        assertEquals(world.getUnequippedInventoryItems().size(), 0);</span>
<span class="fc" id="L431">        assertEquals(character.getDefense(), 3);</span>
<span class="fc" id="L432">        world.setCharacterEquipment(character, item5);</span>
<span class="fc" id="L433">        assertEquals(character.getDefense(), 1);</span>

<span class="fc" id="L435">        world.addUnequippedItem(ITEMS_TYPE.SHIELD);</span>
<span class="fc" id="L436">        Item item6 = world.GetEquippedFromUnequippedByCoordinates(0, 0, 1, 1);</span>
<span class="fc" id="L437">        assertEquals(world.getUnequippedInventoryItems().size(), 0);</span>
<span class="fc" id="L438">        assertEquals(character.getDefense(), 1);</span>
<span class="fc" id="L439">        world.setCharacterEquipment(character, item6);</span>
<span class="fc" id="L440">        assertEquals(character.getDefense(), 1);</span>

<span class="fc" id="L442">        world.addUnequippedItem(ITEMS_TYPE.TREESTUMP);</span>
<span class="fc" id="L443">        Item item7 = world.GetEquippedFromUnequippedByCoordinates(0, 0, 1, 1);</span>
<span class="fc" id="L444">        assertEquals(world.getUnequippedInventoryItems().size(), 0);</span>
<span class="fc" id="L445">        assertEquals(character.getDefense(), 1);</span>
<span class="fc" id="L446">        world.setCharacterEquipment(character, item7);</span>
<span class="fc" id="L447">        assertEquals(character.getDefense(), 1);</span>

<span class="fc" id="L449">        world.addUnequippedItem(ITEMS_TYPE.THEONERING);</span>
<span class="fc" id="L450">        Item item9 = world.GetEquippedFromUnequippedByCoordinates(0, 0, 2, 1);</span>
<span class="fc" id="L451">        assertEquals(world.getUnequippedInventoryItems().size(), 0);</span>
<span class="fc" id="L452">        world.setCharacterEquipment(character, item9);</span>
<span class="fc" id="L453">        assertEquals(world.GetUsedTheOneRing(), false);</span>
<span class="fc" id="L454">    }</span>

    @Test
    public void GSetUsedTheOneRingTest(){
<span class="fc" id="L458">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L459">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L460">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L461">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L462">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L463">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L464">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L465">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L466">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L467">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L468">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L469">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L470">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L471">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
<span class="fc" id="L472">        world.addUnequippedItem(ITEMS_TYPE.THEONERING);</span>
<span class="fc" id="L473">        world.GetEquippedFromUnequippedByCoordinates(0, 0, 2, 1);</span>
<span class="fc" id="L474">        assertEquals(world.GetUsedTheOneRing(), false);</span>
<span class="fc" id="L475">        world.setUsedTheOneRing(true);</span>
<span class="fc" id="L476">        assertEquals(world.GetUsedTheOneRing(), true);</span>
<span class="fc" id="L477">    }</span>

    @Test
    public void getLastUnequippedInventoryItemTest(){
<span class="fc" id="L481">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L482">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L483">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L484">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L485">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L486">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L487">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L488">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L489">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L490">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L491">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L492">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L493">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L494">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
<span class="fc" id="L495">        Item item = world.addUnequippedItem(ITEMS_TYPE.THEONERING);</span>
<span class="fc" id="L496">        assertEquals(world.getUnequippedInventoryItems().size(), 1);</span>
<span class="fc" id="L497">        assertEquals(world.getUnequippedInventoryItems().get(0), item);</span>
<span class="fc" id="L498">        assertEquals(world.getLastUnequippedInventoryItem(), item);</span>
<span class="fc" id="L499">    }</span>

    @Test
    public void getFirstAvailableSlotForItemTest(){
<span class="fc" id="L503">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L504">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L505">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L506">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L507">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L508">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L509">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L510">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L511">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L512">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L513">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L514">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L515">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L516">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
<span class="fc" id="L517">        world.addUnequippedItem(ITEMS_TYPE.THEONERING);</span>
<span class="fc" id="L518">        assertEquals(world.getFirstAvailableSlotForItem(), new Pair&lt;Integer, Integer&gt;(1, 0));</span>
<span class="fc" id="L519">        world.addUnequippedItem(ITEMS_TYPE.SWORD);</span>
<span class="fc" id="L520">        assertEquals(world.getFirstAvailableSlotForItem(), new Pair&lt;Integer, Integer&gt;(2, 0));</span>
<span class="fc" id="L521">    }</span>
    
    @Test
    public void removeItemByPositionInUnequippedInventoryItemsTest(){
<span class="fc" id="L525">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L526">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L527">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L528">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L529">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L530">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L531">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L532">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L533">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L534">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L535">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L536">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L537">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L538">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
<span class="fc" id="L539">        world.addUnequippedItem(ITEMS_TYPE.THEONERING);</span>
<span class="fc" id="L540">        assertEquals(world.getUnequippedInventoryItems().size(), 1);</span>
<span class="fc" id="L541">        world.removeItemByPositionInUnequippedInventoryItems(0);</span>
<span class="fc" id="L542">        assertEquals(world.getUnequippedInventoryItems().size(), 0);</span>
<span class="fc" id="L543">    }</span>

    @Test
    public void removeUnequippedInventoryItemTest(){
<span class="fc" id="L547">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L548">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L549">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L550">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L551">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L552">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L553">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L554">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L555">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L556">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L557">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L558">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L559">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L560">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
<span class="fc" id="L561">        Item item = world.addUnequippedItem(ITEMS_TYPE.THEONERING);</span>
<span class="fc" id="L562">        assertEquals(world.getUnequippedInventoryItems().size(), 1);</span>
<span class="fc" id="L563">        world.removeUnequippedInventoryItem(item);</span>
<span class="fc" id="L564">        assertEquals(world.getUnequippedInventoryItems().size(), 0);</span>
<span class="fc" id="L565">    }</span>

    @Test
    public void getUnequippedInventoryItemEntityByCoordinatesTest(){
<span class="fc" id="L569">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L570">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L571">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L572">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L573">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L574">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L575">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L576">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L577">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L578">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L579">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L580">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L581">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L582">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
<span class="fc" id="L583">        Item item = world.addUnequippedItem(ITEMS_TYPE.THEONERING);</span>
<span class="fc" id="L584">        assertEquals(world.getUnequippedInventoryItemEntityByCoordinates(0,0), item);</span>
<span class="fc" id="L585">    }</span>

    @Test
    public void getWidthHeightTest(){
<span class="fc" id="L589">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L590">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L591">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L592">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L593">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L594">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L595">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L596">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L597">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L598">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L599">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L600">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L601">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L602">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
<span class="fc" id="L603">        assertEquals(world.getWidth(), 4);</span>
<span class="fc" id="L604">        assertEquals(world.getHeight(), 4);</span>
<span class="fc" id="L605">    }</span>

    @Test
    public void possiblySpawnEnemies(){
<span class="fc" id="L609">        List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L610">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L611">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L612">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L613">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L614">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L615">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L616">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L617">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L618">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L619">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L620">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L621">        orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L622">        LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
<span class="fc" id="L623">        assertEquals(world.getRoundsNum(), 0);</span>
<span class="fc" id="L624">        world.addRoundsNum();</span>
<span class="fc" id="L625">        assertEquals(world.getRoundsNum(), 1);</span>
<span class="fc" id="L626">        PathPosition pathPosition = new PathPosition(0, orderedPath);</span>
<span class="fc" id="L627">        Character character = new Character(pathPosition);</span>
<span class="fc" id="L628">        world.setCharacter(character);</span>
<span class="fc" id="L629">        world.possiblySpawnEnemies();</span>
        // spawn enemy is probability, so it will increase test time.
        /*
        while (world.getEnemies().isEmpty()) {
            world.possiblySpawnEnemies();   
        }
        assertEquals(world.getEnemies().get(0) instanceof Slug, true);
        for (int i = 0; i &lt; 21; i++) {
            world.addRoundsNum();
        }
        assertEquals(world.getRoundsNum(), 21);
        while (!(world.getEnemies().get(world.getEnemies().size() - 1) instanceof Doggie)) {
            world.possiblySpawnEnemies();   
        }
        assertEquals(world.getEnemies().get(world.getEnemies().size() - 1) instanceof Doggie, true);
        assertEquals(world.getBossNum(), 1);
        for (int i = 0; i &lt; 20; i++) {
            world.addRoundsNum();
        }
        assertEquals(world.getRoundsNum(), 41);      
        character.setEXP(10001);
        assertEquals(character.getEXP(), 10001); 
        while (!(world.getEnemies().get(world.getEnemies().size() - 1) instanceof ElanMuske)) {
            world.possiblySpawnEnemies();   
        }
        assertEquals(world.getEnemies().get(world.getEnemies().size() - 1) instanceof ElanMuske, true);
        assertEquals(world.getBossNum(), 2);*/
<span class="fc" id="L656">        assertEquals(world.getBossNum(), 0);</span>
<span class="fc" id="L657">        world.setBossNum(world.getBossNum() + 1);</span>
<span class="fc" id="L658">        assertEquals(world.getBossNum(), 1);</span>
<span class="fc" id="L659">    }</span>


@Test
public void battleDetails1Test(){
<span class="fc" id="L664">    List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L665">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L666">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L667">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L668">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L669">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L670">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L671">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L672">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L673">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L674">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L675">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L676">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L677">    LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
<span class="fc" id="L678">    int currentPositionInPath = 2;</span>
<span class="fc" id="L679">    PathPosition pathPosition = new PathPosition(currentPositionInPath, orderedPath);</span>
<span class="fc" id="L680">    Character character = new Character(pathPosition);</span>
<span class="fc" id="L681">    character.setHealth(100);</span>
<span class="fc" id="L682">    world.setCharacter(character);</span>

<span class="fc" id="L684">    currentPositionInPath = 3;</span>
<span class="fc" id="L685">    pathPosition = new PathPosition(currentPositionInPath, orderedPath);</span>
<span class="fc" id="L686">    Slug slug = new Slug(pathPosition);</span>
<span class="fc" id="L687">    List&lt;BasicEnemy&gt; enemies = world.getEnemies();</span>
<span class="fc" id="L688">    enemies.add(slug);</span>

<span class="fc" id="L690">    int healthPt = world.getCharacter().getHealth();</span>
<span class="fc" id="L691">    world.runBattles();</span>
<span class="fc" id="L692">    int lossBlood = Math.max(healthPt-world.getCharacter().getHealth(), 0);</span>

<span class="fc" id="L694">    int slugsNum = world.getencounterSlugsNum();</span>
<span class="fc" id="L695">    int zombiesNum = world.getEncounterZombiesNum();</span>
<span class="fc" id="L696">    int vampiresNum = world.getencounterVampiresNum();</span>

<span class="fc" id="L698">    assertFalse(world.getIsDead());</span>
<span class="fc" id="L699">    assertEquals(slugsNum, 1);</span>
<span class="fc" id="L700">    assertEquals(zombiesNum, 0);</span>
<span class="fc" id="L701">    assertEquals(vampiresNum, 0);</span>
<span class="fc" id="L702">    assertEquals(lossBlood, 12);</span>
<span class="fc" id="L703">}</span>
@Test
public void battleDetails2Test(){
<span class="fc" id="L706">    List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L707">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L708">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L709">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L710">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L711">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L712">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L713">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L714">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L715">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L716">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L717">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L718">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L719">    LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
<span class="fc" id="L720">    int currentPositionInPath = 2;</span>
<span class="fc" id="L721">    PathPosition pathPosition = new PathPosition(currentPositionInPath, orderedPath);</span>
<span class="fc" id="L722">    Character character = new Character(pathPosition);</span>
<span class="fc" id="L723">    character.setHealth(100);</span>
<span class="fc" id="L724">    world.setCharacter(character);</span>


    // set goal
<span class="fc" id="L728">    JSONObject json = new JSONObject();</span>
<span class="fc" id="L729">    json.put(&quot;goal&quot;,&quot;AND&quot;);</span>
<span class="fc" id="L730">    JSONArray jsonArray = new JSONArray();</span>
<span class="fc" id="L731">    JSONObject tmp = new JSONObject();</span>
<span class="fc" id="L732">    tmp.put(&quot;goal&quot;,&quot;cycles&quot;);</span>
<span class="fc" id="L733">    tmp.put(&quot;quantity&quot;,10);</span>
<span class="fc" id="L734">    jsonArray.put(tmp);</span>
<span class="fc" id="L735">    tmp = new JSONObject();</span>
<span class="fc" id="L736">    tmp.put(&quot;goal&quot;,&quot;OR&quot;);</span>
<span class="fc" id="L737">    JSONArray jsonArray1 = new JSONArray();</span>
<span class="fc" id="L738">    JSONObject tmp1 = new JSONObject();</span>
<span class="fc" id="L739">    tmp1.put(&quot;goal&quot;,&quot;experience&quot;);</span>
<span class="fc" id="L740">    tmp1.put(&quot;quantity&quot;,200);</span>
<span class="fc" id="L741">    jsonArray1.put(tmp1);</span>
<span class="fc" id="L742">    tmp1 = new JSONObject();</span>
<span class="fc" id="L743">    tmp1.put(&quot;goal&quot;,&quot;gold&quot;);</span>
<span class="fc" id="L744">    tmp1.put(&quot;quantity&quot;,200);</span>
<span class="fc" id="L745">    jsonArray1.put(tmp1);</span>
<span class="fc" id="L746">    tmp.put(&quot;subgoals&quot;,jsonArray1);</span>
<span class="fc" id="L747">    jsonArray.put(tmp);</span>
<span class="fc" id="L748">    json.put(&quot;subgoals&quot;,jsonArray);</span>
<span class="fc" id="L749">    world.setGoalCondition(new Goal(json));</span>
    
    // ad enemies
<span class="fc" id="L752">    currentPositionInPath = 3;</span>
<span class="fc" id="L753">    pathPosition = new PathPosition(currentPositionInPath, orderedPath);</span>
<span class="fc" id="L754">    Slug slug = new Slug(pathPosition);</span>
<span class="fc" id="L755">    List&lt;BasicEnemy&gt; enemies = world.getEnemies();</span>
<span class="fc" id="L756">    enemies.add(slug);</span>

<span class="fc" id="L758">    currentPositionInPath = 1;</span>
<span class="fc" id="L759">    Zombie zombie = new Zombie(pathPosition,null);</span>
<span class="fc" id="L760">    enemies.add(zombie);</span>

    // check
<span class="fc" id="L763">    int healthPt = world.getCharacter().getHealth();</span>
<span class="fc" id="L764">    world.runBattles();</span>
<span class="fc" id="L765">    int lossBlood = Math.max(healthPt-world.getCharacter().getHealth(), 0);</span>

<span class="fc" id="L767">    int slugsNum = world.getencounterSlugsNum();</span>
<span class="fc" id="L768">    int zombiesNum = world.getEncounterZombiesNum();</span>
<span class="fc" id="L769">    int vampiresNum = world.getencounterVampiresNum();</span>

<span class="fc" id="L771">    assertFalse(world.getIsDead());</span>
<span class="fc" id="L772">    assertEquals(slugsNum, 1);</span>
<span class="fc" id="L773">    assertEquals(zombiesNum, 1);</span>
<span class="fc" id="L774">    assertEquals(vampiresNum, 0);</span>
<span class="fc" id="L775">    assertEquals(lossBlood, 76);</span>
<span class="fc" id="L776">}</span>
@Test
public void battleDetails3Test(){
<span class="fc" id="L779">    List&lt;Pair&lt;Integer, Integer&gt;&gt; orderedPath = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L780">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,0));</span>
<span class="fc" id="L781">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,0));</span>
<span class="fc" id="L782">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,0));</span>
<span class="fc" id="L783">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,0));</span>
<span class="fc" id="L784">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,1));</span>
<span class="fc" id="L785">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,2));</span>
<span class="fc" id="L786">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(3,3));</span>
<span class="fc" id="L787">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(2,3));</span>
<span class="fc" id="L788">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(1,3));</span>
<span class="fc" id="L789">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,3));</span>
<span class="fc" id="L790">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,2));</span>
<span class="fc" id="L791">    orderedPath.add(new Pair&lt;Integer, Integer&gt;(0,1));</span>
<span class="fc" id="L792">    LoopManiaWorld world = new LoopManiaWorld(4, 4, orderedPath);</span>
<span class="fc" id="L793">    int currentPositionInPath = 2;</span>
<span class="fc" id="L794">    PathPosition pathPosition = new PathPosition(currentPositionInPath, orderedPath);</span>
<span class="fc" id="L795">    Character character = new Character(pathPosition);</span>
<span class="fc" id="L796">    character.setHealth(100);</span>
<span class="fc" id="L797">    world.setCharacter(character);</span>

    // set goal
<span class="fc" id="L800">    JSONObject json = new JSONObject();</span>
<span class="fc" id="L801">    json.put(&quot;goal&quot;,&quot;AND&quot;);</span>
<span class="fc" id="L802">    JSONArray jsonArray = new JSONArray();</span>
<span class="fc" id="L803">    JSONObject tmp = new JSONObject();</span>
<span class="fc" id="L804">    tmp.put(&quot;goal&quot;,&quot;cycles&quot;);</span>
<span class="fc" id="L805">    tmp.put(&quot;quantity&quot;,10);</span>
<span class="fc" id="L806">    jsonArray.put(tmp);</span>
<span class="fc" id="L807">    tmp = new JSONObject();</span>
<span class="fc" id="L808">    tmp.put(&quot;goal&quot;,&quot;OR&quot;);</span>
<span class="fc" id="L809">    JSONArray jsonArray1 = new JSONArray();</span>
<span class="fc" id="L810">    JSONObject tmp1 = new JSONObject();</span>
<span class="fc" id="L811">    tmp1.put(&quot;goal&quot;,&quot;experience&quot;);</span>
<span class="fc" id="L812">    tmp1.put(&quot;quantity&quot;,200);</span>
<span class="fc" id="L813">    jsonArray1.put(tmp1);</span>
<span class="fc" id="L814">    tmp1 = new JSONObject();</span>
<span class="fc" id="L815">    tmp1.put(&quot;goal&quot;,&quot;gold&quot;);</span>
<span class="fc" id="L816">    tmp1.put(&quot;quantity&quot;,200);</span>
<span class="fc" id="L817">    jsonArray1.put(tmp1);</span>
<span class="fc" id="L818">    tmp.put(&quot;subgoals&quot;,jsonArray1);</span>
<span class="fc" id="L819">    jsonArray.put(tmp);</span>
<span class="fc" id="L820">    json.put(&quot;subgoals&quot;,jsonArray);</span>
<span class="fc" id="L821">    world.setGoalCondition(new Goal(json));</span>
    
    // add enemies
<span class="fc" id="L824">    currentPositionInPath = 3;</span>
<span class="fc" id="L825">    pathPosition = new PathPosition(currentPositionInPath, orderedPath);</span>
<span class="fc" id="L826">    Slug slug = new Slug(pathPosition);</span>
<span class="fc" id="L827">    List&lt;BasicEnemy&gt; enemies = world.getEnemies();</span>
<span class="fc" id="L828">    enemies.add(slug);</span>

<span class="fc" id="L830">    currentPositionInPath = 1;</span>
<span class="fc" id="L831">    Vampire vampire = new Vampire(pathPosition,null);</span>
<span class="fc" id="L832">    enemies.add(vampire);</span>

    // check
<span class="fc" id="L835">    int healthPt = world.getCharacter().getHealth();</span>
<span class="fc" id="L836">    world.runBattles();</span>
<span class="fc" id="L837">    int lossBlood = Math.max(healthPt-world.getCharacter().getHealth(), 0);</span>

<span class="fc" id="L839">    int slugsNum = world.getencounterSlugsNum();</span>
<span class="fc" id="L840">    int zombiesNum = world.getEncounterZombiesNum();</span>
<span class="fc" id="L841">    int vampiresNum = world.getencounterVampiresNum();</span>

<span class="fc" id="L843">    assertTrue(world.getIsDead());</span>
<span class="fc" id="L844">    assertEquals(slugsNum, 1);</span>
<span class="fc" id="L845">    assertEquals(zombiesNum, 0);</span>
<span class="fc" id="L846">    assertEquals(vampiresNum, 1);</span>
<span class="fc" id="L847">    assertEquals(lossBlood, 100);</span>
<span class="fc" id="L848">}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>